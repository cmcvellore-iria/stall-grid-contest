<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Leaderboard â€” IRIA 2025</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  margin:0;
  background:#0a2342;
  color:white;
  font-family:Arial, sans-serif;
}

h1{
  text-align:center;
  padding:20px;
  background:#ff8800;
  color:#000;
  margin:0;
  font-size:26px;
}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:20px;
}
td,th{
  padding:14px;
  border-bottom:1px solid #ffffff30;
  font-size:20px;
}

.rank{width:10%;}
.name{width:65%;}
.count{width:25%; text-align:right;}

</style>
</head>

<body>

<h1>Leaderboard</h1>
<table id="tbl"></table>

<script>
const BASE="https://cmc-iria-secure.onrender.com";

async function load(){
  let r=await fetch(BASE+"/api/leaderboard");
  let j=await r.json();
  let t=j.top||[];
  let html="<tr><th>#</th><th>Name</th><th>Stalls</th></tr>";
  t.forEach((x,i)=>{
    html+=`<tr>
      <td>${i+1}</td>
      <td>${x.name||x.delegateId}</td>
      <td style="text-align:right">${x.count}</td>
    </tr>`;
  });
  document.getElementById("tbl").innerHTML=html;
}

// initial + auto-refresh
load();
setInterval(load,10000);
</script>

</body>
</html>
